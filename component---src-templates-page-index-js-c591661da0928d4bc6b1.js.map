{"version":3,"sources":["webpack:///./src/templates/page/index.js","webpack:////Volumes/Data/working/Unitz/ws-app-web/modules/unitz-pages/withPageContext.js"],"names":["PageComponents","ContentPageLayout","component","withPageContext","props","pageContext","useRoute","getPageContext","pageLayout","PageComponent","location","PageData","pageData","ctx","apply","name","POS","DataContext","React","createContext","provideData","dataKey","value","dataContext","useContext","Comp","setPageContext","Provider","debug","set"],"mappings":"ySAeMA,EAAiB,CACrBC,6BAGWC,EAAYC,aAAgB,SAACC,GACxC,IAAMC,EAAcC,cAAWC,iBACzBC,EAAa,IAAMH,EAAa,qBAChCI,EAAgB,IAAMT,EAAgBQ,GAC5C,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQE,SAAUN,EAAMM,SAAUC,SAAUA,KAC1C,kBAAC,IAAD,+DACE,kBAAC,IAAD,CAAKC,SAAUC,EAAIC,MAAM,eAAgB,CAAEC,KAAM,eACjD,kBAAC,IAAOC,IAAR,CAAYD,KAAK,cAAcF,EAAIC,MAAM,oBAAqB,CAAEC,KAAM,0BACtE,kBAAC,IAAOC,IAAR,CAAYD,KAAK,YAAYN,EAAgB,kBAACA,EAAD,MAAoB,MACjE,kBAAC,IAAOO,IAAR,CAAYD,KAAK,cAAcF,EAAIC,MAAM,oBAAqB,CAAEC,KAAM,mCAOjEb,a,2KC7BFe,EAAcC,IAAMC,gBAEpBC,EAAc,SAACC,EAASC,GACnC,IAAMC,EAAcL,IAAMM,WAAWP,GACrC,IAAMM,EAAaF,EAASC,IA2BfnB,IAnBS,SAACsB,GACvB,OAAO,SAACrB,GACN,IAAMC,EAAc,IAAMD,EAAO,eAIjC,OAFcE,cACRoB,eAAerB,GAEnB,kBAACY,EAAYU,SAAb,CAAsBL,MAAO,IAC3B,kBAAC,IAAD,+DACGT,EAAIe,OAAM,WACTf,EAAIgB,IAAI,cAAexB,MAEzB,kBAACoB,EAASrB","file":"component---src-templates-page-index-js-c591661da0928d4bc6b1.js","sourcesContent":["import React from 'react';\n\nimport { ctx } from '@vl/redata';\nimport DIV from '@vl/redata/DIV.macro';\n\nimport App from '@uz/unitz-app-web/UserApp';\nimport SEO from '@uz/unitz-layout-web/SEO';\n\nimport Layout from '@uz/unitz-layout-web/LayoutMain';\nimport ContentPageLayout from '@uz/unitz-ctf-theme/layouts/ContentPageLayout';\nimport useRoute from '@vl/hooks/useGbRoute';\nimport withPageContext from '@uz/unitz-pages/withPageContext';\nimport _ from 'lodash';\nimport PageData from '../../data/PageDataQuery';\n\nconst PageComponents = {\n  ContentPageLayout,\n};\n\nexport const component = withPageContext((props) => {\n  const pageContext = useRoute().getPageContext();\n  const pageLayout = _.get(pageContext, 'params.pageLayout');\n  const PageComponent = _.get(PageComponents, pageLayout);\n  return (\n    <App>\n      <Layout location={props.location} PageData={PageData}>\n        <DIV>\n          <SEO pageData={ctx.apply('ctf.findPage', { name: 'Homepage' })} />\n          <Layout.POS name=\"app-header\">{ctx.apply('ctf.renderSection', { name: 'articleNavbarSection' })}</Layout.POS>\n          <Layout.POS name=\"app-body\">{PageComponent ? <PageComponent /> : null}</Layout.POS>\n          <Layout.POS name=\"app-footer\">{ctx.apply('ctf.renderSection', { name: 'articleFooterSection' })}</Layout.POS>\n        </DIV>\n      </Layout>\n    </App>\n  );\n});\n\nexport default component;\n","import React from 'react';\n\nimport { ctx } from '@vl/redata';\nimport DIV from '@vl/redata/DIV.macro';\n\nimport _ from 'lodash';\nimport useRoute from '@vl/hooks/useGbRoute';\n\nexport const DataContext = React.createContext();\n\nexport const provideData = (dataKey, value) => {\n  const dataContext = React.useContext(DataContext);\n  _.set(dataContext, dataKey, value);\n};\n\nexport const consumeData = (dataKey) => {\n  const dataContext = React.useContext(DataContext);\n  return _.get(dataContext, dataKey);\n};\n\nconst withPageContext = (Comp) => {\n  return (props) => {\n    const pageContext = _.get(props, 'pageContext');\n    // eslint-disable-next-line\n    const route = useRoute();\n    route.setPageContext(pageContext);\n    return (\n      <DataContext.Provider value={{}}>\n        <DIV>\n          {ctx.debug(() => {\n            ctx.set('pageContext', pageContext);\n          })}\n          <Comp {...props} />\n        </DIV>\n      </DataContext.Provider>\n    );\n  };\n};\n\nexport default withPageContext;\n"],"sourceRoot":""}